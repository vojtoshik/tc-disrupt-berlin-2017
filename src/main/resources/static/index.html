<!DOCTYPE html>
<html>
  <head>
    <!-- Load Leaflet from CDN-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.1.0/dist/leaflet.css"
      integrity="sha512-wcw6ts8Anuw10Mzh9Ytw4pylW8+NAD4ch3lqm9lzAsTxg0GFeJgoAtxuCLREZSC5lUXdVyo/7yfsqFjQ4S+aKw=="
      crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.1.0/dist/leaflet-src.js"
      integrity="sha384-TWB9xRHTlLQmqAngHwD7usGcf4akGf0JP6aHwlgilpmOu2UuBq5aWLsDAh39iSn1"
      crossorigin=""></script>


    <!-- Load Esri Leaflet locally, after cloning this repository -->
    <script src="https://unpkg.com/esri-leaflet@2.1.1"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.heat/0.2.0/leaflet-heat.js"></script>

    <style>
      html, body, #map {
        margin:0; padding:0;  width : 100%; height : 100%;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
        var map = L.map('map').setView([52.31, 13.24], 10);
        L.esri.basemapLayer("Gray").addTo(map);

        var addressPoints = [
                [52.31, 13.84, 100], // lat, lng, intensity
                [52.03, 13.24, 90],
                [52.01, 13.35, 90],
                [52.01, 13.46, 90],
                [52.01, 13.57, 90],
                [52.01, 13.68, 90],
                [52.03, 13.79, 90],
                [52.31, 13.30, 82.5]];
        var heat = L.heatLayer(addressPoints,{radius: 25}).addTo(map);


        //изохрона
        var intersectionMode = 'union';
        var latlons = {
          map: [52.51, 13.37],
          src1: [52.51042282571668, 13.38984489440918]
        };
    </script>
  </body>
</html>